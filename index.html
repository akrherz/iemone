<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IEM :: IEM One</title>
    <meta name="description" content="Iowa State University, Iowa Environmental Mesonet">
    <meta name="author" content="daryl herzmann akrherz@iastate.edu">
    <style>
        html,
        body {
            height: 100%;
        }
    </style>
</head>
<div id="map" class="map"></div>
<div id="branding-overlay" data-mode="archive">IEM1: Archive</div>

<div class="control-toggle-group">
    <button class="control-toggle-button" id="layers-toggle" title="Toggle Layer Controls">☰</button>
    <button class="control-toggle-button" id="warnings-toggle" title="Toggle Warnings">⚠</button>
    <button class="control-toggle-button" id="exit-button" title="Return to Home"
    onclick="window.location.href='/'">⌂</button>
</div>

<div id="time-control" class="time-control">
    <div class="time-input-container">
        <input type="datetime-local" id="current-time" class="time-input">
    </div>
    <div class="time-buttons">
        <button id="time-step-backward">◀</button>
        <button id="time-play-pause">▶</button>
        <button id="time-step-forward">▶</button>
        <button id="realtime-mode">⏱</button>
    </div>
    <div id="animation-progress" class="progress-bar"></div>
</div>
<div id="layer-control" class="side-drawer">
    <button class="control-close-button" id="close-layers" title="Close Layer Controls">✖</button>
    <div class="drawer-content">
        <h3>Map Layers</h3>
        <div class="layer-section">
            <label class="layer-toggle">
                <input type="checkbox" id="toggle-tms-layer" checked>
                <span>Radar Layer</span>
            </label>
            <div class="layer-options">
                <label>
                    Opacity: <input type="range" id="tms-opacity-slider" min="0" max="1" step="0.1" value="1">
                </label>
            </div>
        </div>
        <div class="layer-section">
            <label class="layer-toggle">
                <input type="checkbox" id="toggle-warnings-layer" checked>
                <span>Warnings & Advisories</span>
            </label>
        </div>

        <div class="phenomena-toggles">
            <div class="phenomena-group">Warnings</div>
            <button class="phenomena-toggle" data-key="TO.W">
                Tornado
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="SV.W">
                Severe T-storm
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="FF.W">
                Flash Flood
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="FL.W">
                Flood
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="MA.W">
                Marine
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="DS.W">
                Dust Storm
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="SQ.W">
                Snow Squall
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="EW.W">
                Extreme Wind
                <span class="count"></span>
            </button>
            <div class="phenomena-group">Advisories</div>
            <button class="phenomena-toggle" data-key="FL.Y">
                Flood
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="FA.Y">
                Areal Flood
                <span class="count"></span>
            </button>
            <button class="phenomena-toggle" data-key="DS.Y">
                Dust Storm
                <span class="count"></span>
            </button>
        </div>
    </div>
</div>
<div id="warnings-modal">
    <div id="warnings-modal-header">
        Warnings
        <button id="close-warnings">✖</button>
    </div>
    <div id="warnings-modal-content">
        <input type="text" id="warnings-search" placeholder="Search warnings..." style="width: 100%; margin-bottom: 10px; padding: 5px; border: 1px solid #ccc; border-radius: 3px;">
        <table id="warnings-table">
            <thead>
                <tr>
                    <th>WFO</th>
                    <th>Till</th>
                    <th>Ph.Sig Event Link</th>
                </tr>
            </thead>
            <tbody>
                <!-- Additional rows will be dynamically populated -->
            </tbody>
        </table>
    </div>
    <button id="collapse-warnings" style="display: none;">Collapse</button> <!-- Collapse button -->
</div>
<div id="toaster">Timestamp updated!</div> <!-- Placed at the end of the document so the pages load faster -->
<script type="module" src="src/main.js"></script>
</body>

</html>